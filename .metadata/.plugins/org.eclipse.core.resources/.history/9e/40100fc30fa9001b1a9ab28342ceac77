package StepDefinitions;

import static org.junit.Assert.*;

import java.util.concurrent.TimeUnit;

import org.openqa.selenium.By;
import org.openqa.selenium.WebDriver;
import org.openqa.selenium.chrome.ChromeDriver;


import io.cucumber.java.en.And;
import io.cucumber.java.en.Given;
import io.cucumber.java.en.Then;
import io.cucumber.java.en.When;
import userdefinedfunctions.SampleTestPage.mySettingsPage;

public class SampleTest_StepDef {
	WebDriver driver = null;
	mySettingsPage exec = new mySettingsPage(driver);
	

	@Given("chrome browser is open")
	public void openBrowser() {
		String projPath = System.getProperty("user.dir");
		System.out.println(projPath);
		System.setProperty("webdriver.chrome.driver", projPath+"/src/test/resources/browserdriver/chromedriver");
		driver = new ChromeDriver();
		driver.manage().timeouts().implicitlyWait(10, TimeUnit.SECONDS);
		driver.manage().window().fullscreen();
		driver.navigate().to("https://www.amaysim.com.au/");
		}
	
	
	@When("user access my account page with \"([^\"]*)\",\"([^\"]*)\"$")
	public void loginToSite(String amaysimNo, String amaysimPw) {
		try{exec.goToDashboard(amaysimNo, amaysimPw);
		} catch (Exception e){
			System.out.println(e);
			
		}
	}
	
	@And("user navigates to settings page")
	public void goToSettings() {
		try	{exec.goTomyAmaysimSettings();;
		} 
		catch (Exception e){
			System.out.println(e);
		}
		
	}
	
	@And("update sim nickname with \"([^\"]*)\"$")
	public void updateNick(String simNickname) {
		System.out.println(exec.updateSimNick(simNickname));
		
//		
//		try {
//			assertEquals("Update success", ));
//		}
//		catch (Exception e) {
//			assertEquals("Failed", false, true);
//		}
	
	}
	
	@And("update recharge pin with \"([^\"]*)\"$")
	public void updateRechargePin(String rechargepin) {
		System.out.println(exec.updateRechargePin(rechargepin));
		
	}

	
	
	@Then("all changes should work as expected")
	public void expectedBehaviour() {
		 System.out.println("something1");
}
}
